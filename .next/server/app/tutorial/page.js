(()=>{var t={};t.id=741,t.ids=[741],t.modules={846:t=>{"use strict";t.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1003:(t,e,i)=>{Promise.resolve().then(i.bind(i,6696))},3033:t=>{"use strict";t.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:t=>{"use strict";t.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:t=>{"use strict";t.exports=require("path")},6696:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>tF});var a=i(5512),r=i(8009),n=i.n(r);function o(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,a)}return i}function s(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach(function(e){var a,r,n;a=t,r=e,n=i[e],(r=h(r))in a?Object.defineProperty(a,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[r]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function h(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,e||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,h(a.key),a)}}function c(t){return function(t){if(Array.isArray(t))return m(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return m(t,void 0);var i=Object.prototype.toString.call(t).slice(8,-1);if("Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return m(t,e)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=Array(e);i<e;i++)a[i]=t[i];return a}var p="undefined"!=typeof window&&void 0!==window.document,u=p?window:{},g=!!p&&!!u.document.documentElement&&"ontouchstart"in u.document.documentElement,f=!!p&&"PointerEvent"in u,x="cropper",v="crop",b="move",w="zoom",y="".concat(x,"-crop"),j="".concat(x,"-disabled"),N="".concat(x,"-hidden"),k="".concat(x,"-hide"),M="".concat(x,"-invisible"),C="".concat(x,"-modal"),D="".concat(x,"-move"),B="".concat(x,"Action"),T="".concat(x,"Preview"),O="crop",W="move",L="none",z="crop",E="cropend",S="cropmove",H="cropstart",Y="dblclick",R=f?"pointerdown":g?"touchstart":"mousedown",A=f?"pointermove":g?"touchmove":"mousemove",X=f?"pointerup pointercancel":g?"touchend touchcancel":"mouseup",P="ready",I="resize",U="wheel",_="zoom",$="image/jpeg",q=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,F=/^data:/,G=/^data:image\/jpeg;base64,/,K=/^img|canvas$/i,V={viewMode:0,dragMode:O,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},Q=Number.isNaN||u.isNaN;function Z(t){return"number"==typeof t&&!Q(t)}var J=function(t){return t>0&&t<1/0};function tt(t){return void 0===t}function te(t){return"object"===l(t)&&null!==t}var ti=Object.prototype.hasOwnProperty;function ta(t){if(!te(t))return!1;try{var e=t.constructor,i=e.prototype;return e&&i&&ti.call(i,"isPrototypeOf")}catch(t){return!1}}function tr(t){return"function"==typeof t}var tn=Array.prototype.slice;function to(t){return Array.from?Array.from(t):tn.call(t)}function ts(t,e){return t&&tr(e)&&(Array.isArray(t)||Z(t.length)?to(t).forEach(function(i,a){e.call(t,i,a,t)}):te(t)&&Object.keys(t).forEach(function(i){e.call(t,t[i],i,t)})),t}var th=Object.assign||function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),a=1;a<e;a++)i[a-1]=arguments[a];return te(t)&&i.length>0&&i.forEach(function(e){te(e)&&Object.keys(e).forEach(function(i){t[i]=e[i]})}),t},tl=/\.\d*(?:0|9){12}\d*$/;function td(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return tl.test(t)?Math.round(t*e)/e:t}var tc=/^width|height|left|top|marginLeft|marginTop$/;function tm(t,e){var i=t.style;ts(e,function(t,e){tc.test(e)&&Z(t)&&(t="".concat(t,"px")),i[e]=t})}function tp(t,e){if(e){if(Z(t.length)){ts(t,function(t){tp(t,e)});return}if(t.classList){t.classList.add(e);return}var i=t.className.trim();i?0>i.indexOf(e)&&(t.className="".concat(i," ").concat(e)):t.className=e}}function tu(t,e){if(e){if(Z(t.length)){ts(t,function(t){tu(t,e)});return}if(t.classList){t.classList.remove(e);return}t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,""))}}function tg(t,e,i){if(e){if(Z(t.length)){ts(t,function(t){tg(t,e,i)});return}i?tp(t,e):tu(t,e)}}var tf=/([a-z\d])([A-Z])/g;function tx(t){return t.replace(tf,"$1-$2").toLowerCase()}function tv(t,e){return te(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(tx(e)))}function tb(t,e,i){te(i)?t[e]=i:t.dataset?t.dataset[e]=i:t.setAttribute("data-".concat(tx(e)),i)}var tw=/\s\s*/,ty=function(){var t=!1;if(p){var e=!1,i=function(){},a=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(t){e=t}});u.addEventListener("test",i,a),u.removeEventListener("test",i,a)}return t}();function tj(t,e,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=i;e.trim().split(tw).forEach(function(e){if(!ty){var n=t.listeners;n&&n[e]&&n[e][i]&&(r=n[e][i],delete n[e][i],0===Object.keys(n[e]).length&&delete n[e],0===Object.keys(n).length&&delete t.listeners)}t.removeEventListener(e,r,a)})}function tN(t,e,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=i;e.trim().split(tw).forEach(function(e){if(a.once&&!ty){var n=t.listeners,o=void 0===n?{}:n;r=function(){delete o[e][i],t.removeEventListener(e,r,a);for(var n=arguments.length,s=Array(n),h=0;h<n;h++)s[h]=arguments[h];i.apply(t,s)},o[e]||(o[e]={}),o[e][i]&&t.removeEventListener(e,o[e][i],a),o[e][i]=r,t.listeners=o}t.addEventListener(e,r,a)})}function tk(t,e,i){var a;return tr(Event)&&tr(CustomEvent)?a=new CustomEvent(e,{detail:i,bubbles:!0,cancelable:!0}):(a=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,i),t.dispatchEvent(a)}function tM(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var tC=u.location,tD=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function tB(t){var e=t.match(tD);return null!==e&&(e[1]!==tC.protocol||e[2]!==tC.hostname||e[3]!==tC.port)}function tT(t){var e="timestamp=".concat(new Date().getTime());return t+(-1===t.indexOf("?")?"?":"&")+e}function tO(t){var e=t.rotate,i=t.scaleX,a=t.scaleY,r=t.translateX,n=t.translateY,o=[];Z(r)&&0!==r&&o.push("translateX(".concat(r,"px)")),Z(n)&&0!==n&&o.push("translateY(".concat(n,"px)")),Z(e)&&0!==e&&o.push("rotate(".concat(e,"deg)")),Z(i)&&1!==i&&o.push("scaleX(".concat(i,")")),Z(a)&&1!==a&&o.push("scaleY(".concat(a,")"));var s=o.length?o.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function tW(t,e){var i=t.pageX,a=t.pageY,r={endX:i,endY:a};return e?r:s({startX:i,startY:a},r)}function tL(t){var e=t.aspectRatio,i=t.height,a=t.width,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",n=J(a),o=J(i);if(n&&o){var s=i*e;"contain"===r&&s>a||"cover"===r&&s<a?i=a/e:a=i*e}else n?i=a/e:o&&(a=i*e);return{width:a,height:i}}var tz=String.fromCharCode,tE=/^data:.*,/,tS=u.Cropper,tH=function(){var t,e;function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,i),!t||!K.test(t.tagName))throw Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=th({},V,ta(e)&&e),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return t=[{key:"init",value:function(){var t,e=this.element,i=e.tagName.toLowerCase();if(!e[x]){if(e[x]=this,"img"===i){if(this.isImg=!0,t=e.getAttribute("src")||"",this.originalUrl=t,!t)return;t=e.src}else"canvas"===i&&window.HTMLCanvasElement&&(t=e.toDataURL());this.load(t)}}},{key:"load",value:function(t){var e,i,a,r=this;if(t){this.url=t,this.imageData={};var n=this.element,o=this.options;if(o.rotatable||o.scalable||(o.checkOrientation=!1),!o.checkOrientation||!window.ArrayBuffer){this.clone();return}if(F.test(t)){G.test(t)?this.read((ts(a=new Uint8Array(i=new ArrayBuffer((e=atob(t.replace(tE,""))).length)),function(t,i){a[i]=e.charCodeAt(i)}),i)):this.clone();return}var s=new XMLHttpRequest,h=this.clone.bind(this);this.reloading=!0,this.xhr=s,s.onabort=h,s.onerror=h,s.ontimeout=h,s.onprogress=function(){s.getResponseHeader("content-type")!==$&&s.abort()},s.onload=function(){r.read(s.response)},s.onloadend=function(){r.reloading=!1,r.xhr=null},o.checkCrossOrigin&&tB(t)&&n.crossOrigin&&(t=tT(t)),s.open("GET",t,!0),s.responseType="arraybuffer",s.withCredentials="use-credentials"===n.crossOrigin,s.send()}}},{key:"read",value:function(t){var e=this.options,i=this.imageData,a=function(t){var e=new DataView(t);try{if(255===e.getUint8(0)&&216===e.getUint8(1))for(var i=e.byteLength,a=2;a+1<i;){if(255===e.getUint8(a)&&225===e.getUint8(a+1)){d=a;break}a+=1}if(d){var r=d+4,n=d+10;if("Exif"===function(t,e,i){var a="";i+=e;for(var r=e;r<i;r+=1)a+=tz(t.getUint8(r));return a}(e,r,4)){var o=e.getUint16(n);if(((l=18761===o)||19789===o)&&42===e.getUint16(n+2,l)){var s=e.getUint32(n+4,l);s>=8&&(c=n+s)}}}if(c){var h,l,d,c,m,p,u=e.getUint16(c,l);for(p=0;p<u;p+=1)if(m=c+12*p+2,274===e.getUint16(m,l)){m+=8,h=e.getUint16(m,l),e.setUint16(m,1,l);break}}}catch(t){h=1}return h}(t),r=0,n=1,o=1;if(a>1){this.url=function(t,e){for(var i=[],a=new Uint8Array(t);a.length>0;)i.push(tz.apply(null,to(a.subarray(0,8192)))),a=a.subarray(8192);return"data:".concat(e,";base64,").concat(btoa(i.join("")))}(t,$);var s=function(t){var e=0,i=1,a=1;switch(t){case 2:i=-1;break;case 3:e=-180;break;case 4:a=-1;break;case 5:e=90,a=-1;break;case 6:e=90;break;case 7:e=90,i=-1;break;case 8:e=-90}return{rotate:e,scaleX:i,scaleY:a}}(a);r=s.rotate,n=s.scaleX,o=s.scaleY}e.rotatable&&(i.rotate=r),e.scalable&&(i.scaleX=n,i.scaleY=o),this.clone()}},{key:"clone",value:function(){var t=this.element,e=this.url,i=t.crossOrigin,a=e;this.options.checkCrossOrigin&&tB(e)&&(i||(i="anonymous"),a=tT(e)),this.crossOrigin=i,this.crossOriginUrl=a;var r=document.createElement("img");i&&(r.crossOrigin=i),r.src=a||e,r.alt=t.alt||"The image to crop",this.image=r,r.onload=this.start.bind(this),r.onerror=this.stop.bind(this),tp(r,k),t.parentNode.insertBefore(r,t.nextSibling)}},{key:"start",value:function(){var t=this,e=this.image;e.onload=null,e.onerror=null,this.sizing=!0;var i=u.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(u.navigator.userAgent),a=function(e,i){th(t.imageData,{naturalWidth:e,naturalHeight:i,aspectRatio:e/i}),t.initialImageData=th({},t.imageData),t.sizing=!1,t.sized=!0,t.build()};if(e.naturalWidth&&!i){a(e.naturalWidth,e.naturalHeight);return}var r=document.createElement("img"),n=document.body||document.documentElement;this.sizingImage=r,r.onload=function(){a(r.width,r.height),i||n.removeChild(r)},r.src=e.src,i||(r.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",n.appendChild(r))}},{key:"stop",value:function(){var t=this.image;t.onload=null,t.onerror=null,t.parentNode.removeChild(t),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var t=this.element,e=this.options,i=this.image,a=t.parentNode,r=document.createElement("div");r.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var n=r.querySelector(".".concat(x,"-container")),o=n.querySelector(".".concat(x,"-canvas")),s=n.querySelector(".".concat(x,"-drag-box")),h=n.querySelector(".".concat(x,"-crop-box")),l=h.querySelector(".".concat(x,"-face"));this.container=a,this.cropper=n,this.canvas=o,this.dragBox=s,this.cropBox=h,this.viewBox=n.querySelector(".".concat(x,"-view-box")),this.face=l,o.appendChild(i),tp(t,N),a.insertBefore(n,t.nextSibling),tu(i,k),this.initPreview(),this.bind(),e.initialAspectRatio=Math.max(0,e.initialAspectRatio)||NaN,e.aspectRatio=Math.max(0,e.aspectRatio)||NaN,e.viewMode=Math.max(0,Math.min(3,Math.round(e.viewMode)))||0,tp(h,N),e.guides||tp(h.getElementsByClassName("".concat(x,"-dashed")),N),e.center||tp(h.getElementsByClassName("".concat(x,"-center")),N),e.background&&tp(n,"".concat(x,"-bg")),e.highlight||tp(l,M),e.cropBoxMovable&&(tp(l,D),tb(l,B,"all")),e.cropBoxResizable||(tp(h.getElementsByClassName("".concat(x,"-line")),N),tp(h.getElementsByClassName("".concat(x,"-point")),N)),this.render(),this.ready=!0,this.setDragMode(e.dragMode),e.autoCrop&&this.crop(),this.setData(e.data),tr(e.ready)&&tN(t,P,e.ready,{once:!0}),tk(t,P)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var t=this.cropper.parentNode;t&&t.removeChild(this.cropper),tu(this.element,N)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],e=[{key:"noConflict",value:function(){return window.Cropper=tS,i}},{key:"setDefaults",value:function(t){th(V,ta(t)&&t)}}],t&&d(i.prototype,t),e&&d(i,e),Object.defineProperty(i,"prototype",{writable:!1}),i}();th(tH.prototype,{render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,e=this.options,i=this.container,a=this.cropper,r=Number(e.minContainerWidth),n=Number(e.minContainerHeight);tp(a,N),tu(t,N);var o={width:Math.max(i.offsetWidth,r>=0?r:200),height:Math.max(i.offsetHeight,n>=0?n:100)};this.containerData=o,tm(a,{width:o.width,height:o.height}),tp(t,N),tu(a,N)},initCanvas:function(){var t=this.containerData,e=this.imageData,i=this.options.viewMode,a=Math.abs(e.rotate)%180==90,r=a?e.naturalHeight:e.naturalWidth,n=a?e.naturalWidth:e.naturalHeight,o=r/n,s=t.width,h=t.height;t.height*o>t.width?3===i?s=t.height*o:h=t.width/o:3===i?h=t.width/o:s=t.height*o;var l={aspectRatio:o,naturalWidth:r,naturalHeight:n,width:s,height:h};this.canvasData=l,this.limited=1===i||2===i,this.limitCanvas(!0,!0),l.width=Math.min(Math.max(l.width,l.minWidth),l.maxWidth),l.height=Math.min(Math.max(l.height,l.minHeight),l.maxHeight),l.left=(t.width-l.width)/2,l.top=(t.height-l.height)/2,l.oldLeft=l.left,l.oldTop=l.top,this.initialCanvasData=th({},l)},limitCanvas:function(t,e){var i=this.options,a=this.containerData,r=this.canvasData,n=this.cropBoxData,o=i.viewMode,s=r.aspectRatio,h=this.cropped&&n;if(t){var l=Number(i.minCanvasWidth)||0,d=Number(i.minCanvasHeight)||0;o>1?(l=Math.max(l,a.width),d=Math.max(d,a.height),3===o&&(d*s>l?l=d*s:d=l/s)):o>0&&(l?l=Math.max(l,h?n.width:0):d?d=Math.max(d,h?n.height:0):h&&(l=n.width,(d=n.height)*s>l?l=d*s:d=l/s));var c=tL({aspectRatio:s,width:l,height:d});l=c.width,d=c.height,r.minWidth=l,r.minHeight=d,r.maxWidth=1/0,r.maxHeight=1/0}if(e){if(o>+!h){var m=a.width-r.width,p=a.height-r.height;r.minLeft=Math.min(0,m),r.minTop=Math.min(0,p),r.maxLeft=Math.max(0,m),r.maxTop=Math.max(0,p),h&&this.limited&&(r.minLeft=Math.min(n.left,n.left+(n.width-r.width)),r.minTop=Math.min(n.top,n.top+(n.height-r.height)),r.maxLeft=n.left,r.maxTop=n.top,2===o&&(r.width>=a.width&&(r.minLeft=Math.min(0,m),r.maxLeft=Math.max(0,m)),r.height>=a.height&&(r.minTop=Math.min(0,p),r.maxTop=Math.max(0,p))))}else r.minLeft=-r.width,r.minTop=-r.height,r.maxLeft=a.width,r.maxTop=a.height}},renderCanvas:function(t,e){var i=this.canvasData,a=this.imageData;if(e){var r=function(t){var e=t.width,i=t.height,a=t.degree;if(90==(a=Math.abs(a)%180))return{width:i,height:e};var r=a%90*Math.PI/180,n=Math.sin(r),o=Math.cos(r),s=e*o+i*n,h=e*n+i*o;return a>90?{width:h,height:s}:{width:s,height:h}}({width:a.naturalWidth*Math.abs(a.scaleX||1),height:a.naturalHeight*Math.abs(a.scaleY||1),degree:a.rotate||0}),n=r.width,o=r.height,s=i.width*(n/i.naturalWidth),h=i.height*(o/i.naturalHeight);i.left-=(s-i.width)/2,i.top-=(h-i.height)/2,i.width=s,i.height=h,i.aspectRatio=n/o,i.naturalWidth=n,i.naturalHeight=o,this.limitCanvas(!0,!1)}(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCanvas(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,tm(this.canvas,th({width:i.width,height:i.height},tO({translateX:i.left,translateY:i.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var e=this.canvasData,i=this.imageData,a=i.naturalWidth*(e.width/e.naturalWidth),r=i.naturalHeight*(e.height/e.naturalHeight);th(i,{width:a,height:r,left:(e.width-a)/2,top:(e.height-r)/2}),tm(this.image,th({width:i.width,height:i.height},tO(th({translateX:i.left,translateY:i.top},i)))),t&&this.output()},initCropBox:function(){var t=this.options,e=this.canvasData,i=t.aspectRatio||t.initialAspectRatio,a=Number(t.autoCropArea)||.8,r={width:e.width,height:e.height};i&&(e.height*i>e.width?r.height=r.width/i:r.width=r.height*i),this.cropBoxData=r,this.limitCropBox(!0,!0),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),r.width=Math.max(r.minWidth,r.width*a),r.height=Math.max(r.minHeight,r.height*a),r.left=e.left+(e.width-r.width)/2,r.top=e.top+(e.height-r.height)/2,r.oldLeft=r.left,r.oldTop=r.top,this.initialCropBoxData=th({},r)},limitCropBox:function(t,e){var i=this.options,a=this.containerData,r=this.canvasData,n=this.cropBoxData,o=this.limited,s=i.aspectRatio;if(t){var h=Number(i.minCropBoxWidth)||0,l=Number(i.minCropBoxHeight)||0,d=o?Math.min(a.width,r.width,r.width+r.left,a.width-r.left):a.width,c=o?Math.min(a.height,r.height,r.height+r.top,a.height-r.top):a.height;h=Math.min(h,a.width),l=Math.min(l,a.height),s&&(h&&l?l*s>h?l=h/s:h=l*s:h?l=h/s:l&&(h=l*s),c*s>d?c=d/s:d=c*s),n.minWidth=Math.min(h,d),n.minHeight=Math.min(l,c),n.maxWidth=d,n.maxHeight=c}e&&(o?(n.minLeft=Math.max(0,r.left),n.minTop=Math.max(0,r.top),n.maxLeft=Math.min(a.width,r.left+r.width)-n.width,n.maxTop=Math.min(a.height,r.top+r.height)-n.height):(n.minLeft=0,n.minTop=0,n.maxLeft=a.width-n.width,n.maxTop=a.height-n.height))},renderCropBox:function(){var t=this.options,e=this.containerData,i=this.cropBoxData;(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCropBox(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,t.movable&&t.cropBoxMovable&&tb(this.face,B,i.width>=e.width&&i.height>=e.height?b:"all"),tm(this.cropBox,th({width:i.width,height:i.height},tO({translateX:i.left,translateY:i.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),tk(this.element,z,this.getData())}},{initPreview:function(){var t=this.element,e=this.crossOrigin,i=this.options.preview,a=e?this.crossOriginUrl:this.url,r=t.alt||"The image to preview",n=document.createElement("img");if(e&&(n.crossOrigin=e),n.src=a,n.alt=r,this.viewBox.appendChild(n),this.viewBoxImage=n,i){var o=i;"string"==typeof i?o=t.ownerDocument.querySelectorAll(i):i.querySelector&&(o=[i]),this.previews=o,ts(o,function(t){var i=document.createElement("img");tb(t,T,{width:t.offsetWidth,height:t.offsetHeight,html:t.innerHTML}),e&&(i.crossOrigin=e),i.src=a,i.alt=r,i.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',t.innerHTML="",t.appendChild(i)})}},resetPreview:function(){ts(this.previews,function(t){var e=tv(t,T);tm(t,{width:e.width,height:e.height}),t.innerHTML=e.html,function(t,e){if(te(t[e]))try{delete t[e]}catch(i){t[e]=void 0}else if(t.dataset)try{delete t.dataset[e]}catch(i){t.dataset[e]=void 0}else t.removeAttribute("data-".concat(tx(e)))}(t,T)})},preview:function(){var t=this.imageData,e=this.canvasData,i=this.cropBoxData,a=i.width,r=i.height,n=t.width,o=t.height,s=i.left-e.left-t.left,h=i.top-e.top-t.top;this.cropped&&!this.disabled&&(tm(this.viewBoxImage,th({width:n,height:o},tO(th({translateX:-s,translateY:-h},t)))),ts(this.previews,function(e){var i=tv(e,T),l=i.width,d=i.height,c=l,m=d,p=1;a&&(m=r*(p=l/a)),r&&m>d&&(c=a*(p=d/r),m=d),tm(e,{width:c,height:m}),tm(e.getElementsByTagName("img")[0],th({width:n*p,height:o*p},tO(th({translateX:-s*p,translateY:-h*p},t))))}))}},{bind:function(){var t=this.element,e=this.options,i=this.cropper;tr(e.cropstart)&&tN(t,H,e.cropstart),tr(e.cropmove)&&tN(t,S,e.cropmove),tr(e.cropend)&&tN(t,E,e.cropend),tr(e.crop)&&tN(t,z,e.crop),tr(e.zoom)&&tN(t,_,e.zoom),tN(i,R,this.onCropStart=this.cropStart.bind(this)),e.zoomable&&e.zoomOnWheel&&tN(i,U,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&tN(i,Y,this.onDblclick=this.dblclick.bind(this)),tN(t.ownerDocument,A,this.onCropMove=this.cropMove.bind(this)),tN(t.ownerDocument,X,this.onCropEnd=this.cropEnd.bind(this)),e.responsive&&tN(window,I,this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,e=this.options,i=this.cropper;tr(e.cropstart)&&tj(t,H,e.cropstart),tr(e.cropmove)&&tj(t,S,e.cropmove),tr(e.cropend)&&tj(t,E,e.cropend),tr(e.crop)&&tj(t,z,e.crop),tr(e.zoom)&&tj(t,_,e.zoom),tj(i,R,this.onCropStart),e.zoomable&&e.zoomOnWheel&&tj(i,U,this.onWheel,{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&tj(i,Y,this.onDblclick),tj(t.ownerDocument,A,this.onCropMove),tj(t.ownerDocument,X,this.onCropEnd),e.responsive&&tj(window,I,this.onResize)}},{resize:function(){if(!this.disabled){var t,e,i=this.options,a=this.container,r=this.containerData,n=a.offsetWidth/r.width,o=a.offsetHeight/r.height,s=Math.abs(n-1)>Math.abs(o-1)?n:o;1!==s&&(i.restore&&(t=this.getCanvasData(),e=this.getCropBoxData()),this.render(),i.restore&&(this.setCanvasData(ts(t,function(e,i){t[i]=e*s})),this.setCropBoxData(ts(e,function(t,i){e[i]=t*s}))))}},dblclick:function(){var t;!this.disabled&&this.options.dragMode!==L&&this.setDragMode(((t=this.dragBox).classList?t.classList.contains(y):t.className.indexOf(y)>-1)?W:O)},wheel:function(t){var e=this,i=Number(this.options.wheelZoomRatio)||.1,a=1;if(!this.disabled)t.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){e.wheeling=!1},50),t.deltaY?a=t.deltaY>0?1:-1:t.wheelDelta?a=-t.wheelDelta/120:t.detail&&(a=t.detail>0?1:-1),this.zoom(-a*i,t))},cropStart:function(t){var e,i=t.buttons,a=t.button;if(!(this.disabled||("mousedown"===t.type||"pointerdown"===t.type&&"mouse"===t.pointerType)&&(Z(i)&&1!==i||Z(a)&&0!==a||t.ctrlKey))){var r=this.options,n=this.pointers;t.changedTouches?ts(t.changedTouches,function(t){n[t.identifier]=tW(t)}):n[t.pointerId||0]=tW(t),e=Object.keys(n).length>1&&r.zoomable&&r.zoomOnTouch?w:tv(t.target,B),q.test(e)&&!1!==tk(this.element,H,{originalEvent:t,action:e})&&(t.preventDefault(),this.action=e,this.cropping=!1,e===v&&(this.cropping=!0,tp(this.dragBox,C)))}},cropMove:function(t){var e=this.action;if(!this.disabled&&e){var i=this.pointers;t.preventDefault(),!1!==tk(this.element,S,{originalEvent:t,action:e})&&(t.changedTouches?ts(t.changedTouches,function(t){th(i[t.identifier]||{},tW(t,!0))}):th(i[t.pointerId||0]||{},tW(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var e=this.action,i=this.pointers;t.changedTouches?ts(t.changedTouches,function(t){delete i[t.identifier]}):delete i[t.pointerId||0],e&&(t.preventDefault(),Object.keys(i).length||(this.action=""),this.cropping&&(this.cropping=!1,tg(this.dragBox,C,this.cropped&&this.options.modal)),tk(this.element,E,{originalEvent:t,action:e}))}}},{change:function(t){var e,i,a,r=this.options,n=this.canvasData,o=this.containerData,h=this.cropBoxData,l=this.pointers,d=this.action,c=r.aspectRatio,m=h.left,p=h.top,u=h.width,g=h.height,f=m+u,x=p+g,y=0,j=0,k=o.width,M=o.height,C=!0;!c&&t.shiftKey&&(c=u&&g?u/g:1),this.limited&&(y=h.minLeft,j=h.minTop,k=y+Math.min(o.width,n.width,n.left+n.width),M=j+Math.min(o.height,n.height,n.top+n.height));var D=l[Object.keys(l)[0]],B={x:D.endX-D.startX,y:D.endY-D.startY},T=function(t){switch(t){case"e":f+B.x>k&&(B.x=k-f);break;case"w":m+B.x<y&&(B.x=y-m);break;case"n":p+B.y<j&&(B.y=j-p);break;case"s":x+B.y>M&&(B.y=M-x)}};switch(d){case"all":m+=B.x,p+=B.y;break;case"e":if(B.x>=0&&(f>=k||c&&(p<=j||x>=M))){C=!1;break}T("e"),(u+=B.x)<0&&(d="w",m-=u=-u),c&&(g=u/c,p+=(h.height-g)/2);break;case"n":if(B.y<=0&&(p<=j||c&&(m<=y||f>=k))){C=!1;break}T("n"),g-=B.y,p+=B.y,g<0&&(d="s",p-=g=-g),c&&(u=g*c,m+=(h.width-u)/2);break;case"w":if(B.x<=0&&(m<=y||c&&(p<=j||x>=M))){C=!1;break}T("w"),u-=B.x,m+=B.x,u<0&&(d="e",m-=u=-u),c&&(g=u/c,p+=(h.height-g)/2);break;case"s":if(B.y>=0&&(x>=M||c&&(m<=y||f>=k))){C=!1;break}T("s"),(g+=B.y)<0&&(d="n",p-=g=-g),c&&(u=g*c,m+=(h.width-u)/2);break;case"ne":if(c){if(B.y<=0&&(p<=j||f>=k)){C=!1;break}T("n"),g-=B.y,p+=B.y,u=g*c}else T("n"),T("e"),B.x>=0?f<k?u+=B.x:B.y<=0&&p<=j&&(C=!1):u+=B.x,B.y<=0?p>j&&(g-=B.y,p+=B.y):(g-=B.y,p+=B.y);u<0&&g<0?(d="sw",u=-u,p-=g=-g,m-=u):u<0?(d="nw",m-=u=-u):g<0&&(d="se",p-=g=-g);break;case"nw":if(c){if(B.y<=0&&(p<=j||m<=y)){C=!1;break}T("n"),g-=B.y,p+=B.y,u=g*c,m+=h.width-u}else T("n"),T("w"),B.x<=0?m>y?(u-=B.x,m+=B.x):B.y<=0&&p<=j&&(C=!1):(u-=B.x,m+=B.x),B.y<=0?p>j&&(g-=B.y,p+=B.y):(g-=B.y,p+=B.y);u<0&&g<0?(d="se",u=-u,p-=g=-g,m-=u):u<0?(d="ne",m-=u=-u):g<0&&(d="sw",p-=g=-g);break;case"sw":if(c){if(B.x<=0&&(m<=y||x>=M)){C=!1;break}T("w"),u-=B.x,m+=B.x,g=u/c}else T("s"),T("w"),B.x<=0?m>y?(u-=B.x,m+=B.x):B.y>=0&&x>=M&&(C=!1):(u-=B.x,m+=B.x),B.y>=0?x<M&&(g+=B.y):g+=B.y;u<0&&g<0?(d="ne",u=-u,p-=g=-g,m-=u):u<0?(d="se",m-=u=-u):g<0&&(d="nw",p-=g=-g);break;case"se":if(c){if(B.x>=0&&(f>=k||x>=M)){C=!1;break}T("e"),u+=B.x,g=u/c}else T("s"),T("e"),B.x>=0?f<k?u+=B.x:B.y>=0&&x>=M&&(C=!1):u+=B.x,B.y>=0?x<M&&(g+=B.y):g+=B.y;u<0&&g<0?(d="nw",u=-u,p-=g=-g,m-=u):u<0?(d="sw",m-=u=-u):g<0&&(d="ne",p-=g=-g);break;case b:this.move(B.x,B.y),C=!1;break;case w:this.zoom((e=s({},l),i=0,ts(l,function(t,a){delete e[a],ts(e,function(e){var a=Math.abs(t.startX-e.startX),r=Math.abs(t.startY-e.startY),n=Math.abs(t.endX-e.endX),o=Math.abs(t.endY-e.endY),s=Math.sqrt(a*a+r*r),h=(Math.sqrt(n*n+o*o)-s)/s;Math.abs(h)>Math.abs(i)&&(i=h)})}),i),t),C=!1;break;case v:if(!B.x||!B.y){C=!1;break}a=tM(this.cropper),m=D.startX-a.left,p=D.startY-a.top,u=h.minWidth,g=h.minHeight,B.x>0?d=B.y>0?"se":"ne":B.x<0&&(m-=u,d=B.y>0?"sw":"nw"),B.y<0&&(p-=g),!this.cropped&&(tu(this.cropBox,N),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}C&&(h.width=u,h.height=g,h.left=m,h.top=p,this.action=d,this.renderCropBox()),ts(l,function(t){t.startX=t.endX,t.startY=t.endY})}},{crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&tp(this.dragBox,C),tu(this.cropBox,N),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=th({},this.initialImageData),this.canvasData=th({},this.initialCanvasData),this.cropBoxData=th({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(th(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),tu(this.dragBox,C),tp(this.cropBox,N)),this},replace:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&t&&(this.isImg&&(this.element.src=t),e?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,ts(this.previews,function(e){e.getElementsByTagName("img")[0].src=t}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,tu(this.cropper,j)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,tp(this.cropper,j)),this},destroy:function(){var t=this.element;return t[x]&&(t[x]=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate()),this},move:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=this.canvasData,a=i.left,r=i.top;return this.moveTo(tt(t)?t:a+Number(t),tt(e)?e:r+Number(e))},moveTo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=this.canvasData,a=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.movable&&(Z(t)&&(i.left=t,a=!0),Z(e)&&(i.top=e,a=!0),a&&this.renderCanvas(!0)),this},zoom:function(t,e){var i=this.canvasData;return t=(t=Number(t))<0?1/(1-t):1+t,this.zoomTo(i.width*t/i.naturalWidth,null,e)},zoomTo:function(t,e,i){var a=this.options,r=this.canvasData,n=r.width,o=r.height,s=r.naturalWidth,h=r.naturalHeight;if((t=Number(t))>=0&&this.ready&&!this.disabled&&a.zoomable){var l=s*t,d=h*t;if(!1===tk(this.element,_,{ratio:t,oldRatio:n/s,originalEvent:i}))return this;if(i){var c,m,p,u=this.pointers,g=tM(this.cropper),f=u&&Object.keys(u).length?(c=0,m=0,p=0,ts(u,function(t){var e=t.startX,i=t.startY;c+=e,m+=i,p+=1}),c/=p,m/=p,{pageX:c,pageY:m}):{pageX:i.pageX,pageY:i.pageY};r.left-=(l-n)*((f.pageX-g.left-r.left)/n),r.top-=(d-o)*((f.pageY-g.top-r.top)/o)}else ta(e)&&Z(e.x)&&Z(e.y)?(r.left-=(l-n)*((e.x-r.left)/n),r.top-=(d-o)*((e.y-r.top)/o)):(r.left-=(l-n)/2,r.top-=(d-o)/2);r.width=l,r.height=d,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return Z(t=Number(t))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var e=this.imageData.scaleY;return this.scale(t,Z(e)?e:1)},scaleY:function(t){var e=this.imageData.scaleX;return this.scale(Z(e)?e:1,t)},scale:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=this.imageData,a=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.scalable&&(Z(t)&&(i.scaleX=t,a=!0),Z(e)&&(i.scaleY=e,a=!0),a&&this.renderCanvas(!0,!0)),this},getData:function(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.options,a=this.imageData,r=this.canvasData,n=this.cropBoxData;if(this.ready&&this.cropped){t={x:n.left-r.left,y:n.top-r.top,width:n.width,height:n.height};var o=a.width/a.naturalWidth;if(ts(t,function(e,i){t[i]=e/o}),e){var s=Math.round(t.y+t.height),h=Math.round(t.x+t.width);t.x=Math.round(t.x),t.y=Math.round(t.y),t.width=h-t.x,t.height=s-t.y}}else t={x:0,y:0,width:0,height:0};return i.rotatable&&(t.rotate=a.rotate||0),i.scalable&&(t.scaleX=a.scaleX||1,t.scaleY=a.scaleY||1),t},setData:function(t){var e=this.options,i=this.imageData,a=this.canvasData,r={};if(this.ready&&!this.disabled&&ta(t)){var n=!1;e.rotatable&&Z(t.rotate)&&t.rotate!==i.rotate&&(i.rotate=t.rotate,n=!0),e.scalable&&(Z(t.scaleX)&&t.scaleX!==i.scaleX&&(i.scaleX=t.scaleX,n=!0),Z(t.scaleY)&&t.scaleY!==i.scaleY&&(i.scaleY=t.scaleY,n=!0)),n&&this.renderCanvas(!0,!0);var o=i.width/i.naturalWidth;Z(t.x)&&(r.left=t.x*o+a.left),Z(t.y)&&(r.top=t.y*o+a.top),Z(t.width)&&(r.width=t.width*o),Z(t.height)&&(r.height=t.height*o),this.setCropBoxData(r)}return this},getContainerData:function(){return this.ready?th({},this.containerData):{}},getImageData:function(){return this.sized?th({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,e={};return this.ready&&ts(["left","top","width","height","naturalWidth","naturalHeight"],function(i){e[i]=t[i]}),e},setCanvasData:function(t){var e=this.canvasData,i=e.aspectRatio;return this.ready&&!this.disabled&&ta(t)&&(Z(t.left)&&(e.left=t.left),Z(t.top)&&(e.top=t.top),Z(t.width)?(e.width=t.width,e.height=t.width/i):Z(t.height)&&(e.height=t.height,e.width=t.height*i),this.renderCanvas(!0)),this},getCropBoxData:function(){var t,e=this.cropBoxData;return this.ready&&this.cropped&&(t={left:e.left,top:e.top,width:e.width,height:e.height}),t||{}},setCropBoxData:function(t){var e,i,a=this.cropBoxData,r=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&ta(t)&&(Z(t.left)&&(a.left=t.left),Z(t.top)&&(a.top=t.top),Z(t.width)&&t.width!==a.width&&(e=!0,a.width=t.width),Z(t.height)&&t.height!==a.height&&(i=!0,a.height=t.height),r&&(e?a.height=a.width/r:i&&(a.width=a.height*r)),this.renderCropBox()),this},getCroppedCanvas:function(){var t,e,i,a,r,n,o,s,h,l,d,m,p,u,g,f,x,v,b,w,y,j,N,k,M,C,D,B,T,O,W,L,z,E,S,H,Y,R,A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var X=this.canvasData,P=(t=this.image,i=(e=this.imageData).aspectRatio,a=e.naturalWidth,r=e.naturalHeight,n=e.rotate,o=e.scaleX,s=e.scaleY,h=X.aspectRatio,l=X.naturalWidth,d=X.naturalHeight,m=A.fillColor,p=A.imageSmoothingEnabled,u=A.imageSmoothingQuality,f=void 0===(g=A.maxWidth)?1/0:g,v=void 0===(x=A.maxHeight)?1/0:x,w=void 0===(b=A.minWidth)?0:b,j=void 0===(y=A.minHeight)?0:y,k=(N=document.createElement("canvas")).getContext("2d"),M=tL({aspectRatio:h,width:f,height:v}),C=tL({aspectRatio:h,width:w,height:j},"cover"),D=Math.min(M.width,Math.max(C.width,l)),B=Math.min(M.height,Math.max(C.height,d)),T=tL({aspectRatio:i,width:f,height:v}),O=tL({aspectRatio:i,width:w,height:j},"cover"),W=Math.min(T.width,Math.max(O.width,a)),L=Math.min(T.height,Math.max(O.height,r)),N.width=td(D),N.height=td(B),k.fillStyle=void 0===m?"transparent":m,k.fillRect(0,0,D,B),k.save(),k.translate(D/2,B/2),k.rotate((void 0===n?0:n)*Math.PI/180),k.scale(void 0===o?1:o,void 0===s?1:s),k.imageSmoothingEnabled=void 0===p||p,k.imageSmoothingQuality=void 0===u?"low":u,k.drawImage.apply(k,[t].concat(c([-W/2,-L/2,W,L].map(function(t){return Math.floor(td(t))})))),k.restore(),N);if(!this.cropped)return P;var I=this.getData(A.rounded),U=I.x,_=I.y,$=I.width,q=I.height,F=P.width/Math.floor(X.naturalWidth);1!==F&&(U*=F,_*=F,$*=F,q*=F);var G=$/q,K=tL({aspectRatio:G,width:A.maxWidth||1/0,height:A.maxHeight||1/0}),V=tL({aspectRatio:G,width:A.minWidth||0,height:A.minHeight||0},"cover"),Q=tL({aspectRatio:G,width:A.width||(1!==F?P.width:$),height:A.height||(1!==F?P.height:q)}),Z=Q.width,J=Q.height;Z=Math.min(K.width,Math.max(V.width,Z)),J=Math.min(K.height,Math.max(V.height,J));var tt=document.createElement("canvas"),te=tt.getContext("2d");tt.width=td(Z),tt.height=td(J),te.fillStyle=A.fillColor||"transparent",te.fillRect(0,0,Z,J);var ti=A.imageSmoothingEnabled,ta=A.imageSmoothingQuality;te.imageSmoothingEnabled=void 0===ti||ti,ta&&(te.imageSmoothingQuality=ta);var tr=P.width,tn=P.height,to=U,ts=_;to<=-$||to>tr?(to=0,z=0,S=0,Y=0):to<=0?(S=-to,Y=z=Math.min(tr,$+(to=0))):to<=tr&&(S=0,Y=z=Math.min($,tr-to)),z<=0||ts<=-q||ts>tn?(ts=0,E=0,H=0,R=0):ts<=0?(H=-ts,R=E=Math.min(tn,q+(ts=0))):ts<=tn&&(H=0,R=E=Math.min(q,tn-ts));var th=[to,ts,z,E];if(Y>0&&R>0){var tl=Z/$;th.push(S*tl,H*tl,Y*tl,R*tl)}return te.drawImage.apply(te,[P].concat(c(th.map(function(t){return Math.floor(td(t))})))),tt},setAspectRatio:function(t){var e=this.options;return!this.disabled&&!tt(t)&&(e.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var e=this.options,i=this.dragBox,a=this.face;if(this.ready&&!this.disabled){var r=t===O,n=e.movable&&t===W;t=r||n?t:L,e.dragMode=t,tb(i,B,t),tg(i,y,r),tg(i,D,n),e.cropBoxMovable||(tb(a,B,t),tg(a,y,r),tg(a,D,n))}return this}});var tY=function(){return(tY=Object.assign||function(t){for(var e,i=1,a=arguments.length;i<a;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function tR(t,e){var i={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&0>e.indexOf(a)&&(i[a]=t[a]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(t);r<a.length;r++)0>e.indexOf(a[r])&&Object.prototype.propertyIsEnumerable.call(t,a[r])&&(i[a[r]]=t[a[r]])}return i}var tA=["aspectRatio","autoCrop","autoCropArea","background","center","checkCrossOrigin","checkOrientation","cropBoxMovable","cropBoxResizable","data","dragMode","guides","highlight","initialAspectRatio","minCanvasHeight","minCanvasWidth","minContainerHeight","minContainerWidth","minCropBoxHeight","minCropBoxWidth","modal","movable","preview","responsive","restore","rotatable","scalable","toggleDragModeOnDblclick","viewMode","wheelZoomRatio","zoomOnTouch","zoomOnWheel","zoomable","cropstart","cropmove","cropend","crop","zoom","ready"],tX={opacity:0,maxWidth:"100%"},tP=n().forwardRef(function(t,e){var i,a=tR(t,[]),o=a.dragMode,s=void 0===o?"crop":o,h=a.src,l=a.style,d=a.className,c=a.crossOrigin,m=a.scaleX,p=a.scaleY,u=a.enable,g=a.zoomTo,f=a.rotateTo,x=a.alt,v=a.ready,b=a.onInitialized,w=tR(a,["dragMode","src","style","className","crossOrigin","scaleX","scaleY","enable","zoomTo","rotateTo","alt","ready","onInitialized"]),y={scaleY:p,scaleX:m,enable:u,zoomTo:g,rotateTo:f},j=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=(0,r.useRef)(null);return n().useEffect(function(){t.forEach(function(t){t&&("function"==typeof t?t(i.current):t.current=i.current)})},[t]),i}(e,(0,r.useRef)(null));(0,r.useEffect)(function(){var t;(null===(t=j.current)||void 0===t?void 0:t.cropper)&&"number"==typeof g&&j.current.cropper.zoomTo(g)},[a.zoomTo]),(0,r.useEffect)(function(){var t;(null===(t=j.current)||void 0===t?void 0:t.cropper)&&void 0!==h&&j.current.cropper.reset().clear().replace(h)},[h]),(0,r.useEffect)(function(){if(null!==j.current){var t=new tH(j.current,tY(tY({dragMode:s},w),{ready:function(t){var e,i,a,r,n,o,s,h;null!==t.currentTarget&&(e=t.currentTarget.cropper,void 0===(i=y)&&(i={}),a=i.enable,r=i.scaleX,n=i.scaleY,s=void 0===(o=i.zoomTo)?0:o,h=i.rotateTo,void 0===a||a?e.enable():e.disable(),e.scaleX(void 0===r?1:r),e.scaleY(void 0===n?1:n),void 0!==h&&e.rotateTo(h),s>0&&e.zoomTo(s)),v&&v(t)}}));b&&b(t)}return function(){var t,e;null===(e=null===(t=j.current)||void 0===t?void 0:t.cropper)||void 0===e||e.destroy()}},[j]);var N=(i=tY(tY({},w),{crossOrigin:c,src:h,alt:void 0===x?"picture":x}),tA.reduce(function(t,e){return t[e],tR(t,["symbol"==typeof e?e:e+""])},i));return n().createElement("div",{style:l,className:d},n().createElement("img",tY({},N,{style:tX,ref:j})))});i(8766);let tI=({tutorialImage:t,onSubmit:e,optimalFrame:i,popularFrame:n,isHorizontal:o=!1})=>{let[s,h]=(0,r.useState)("framing"),[l,d]=(0,r.useState)(null),[c,m]=(0,r.useState)(null),[p,u]=(0,r.useState)(!1),[g,f]=(0,r.useState)(!1),[x,v]=(0,r.useState)({}),b=(0,r.useRef)(null),[w,y]=(0,r.useState)({x:0,y:0,width:0,height:0}),j=o?16/9:9/16,N=t=>{v(e=>({...e,[t]:!0}))};(0,r.useEffect)(()=>{h("framing"),d(null),m(null),f(!1),v({})},[t.id,o]),(0,r.useEffect)(()=>{if(t&&t.imageUrl){let e=new window.Image;e.src=t.imageUrl,e.onload=()=>{v(t=>({...t,tutorial:!0}))}}},[t]),(0,r.useEffect)(()=>{let t=setTimeout(()=>{let t=b.current?.cropper;if(t){let e=t.getContainerData(),i=o?667:375,a=o?375:667,r=.8*Math.min(e.width/i,e.height/a);t.setCropBoxData({left:(e.width-i*r)/2,top:(e.height-a*r)/2,width:i*r,height:a*r})}},500);return()=>clearTimeout(t)},[o,t.id]);let k=async()=>{if(b.current){u(!0);try{let a=b.current?.cropper;if(!a)return;let r=a.getData(),n={originImageUrl:t.imageUrl,frameX:Math.round(r.x),frameY:Math.round(r.y),frameWidth:Math.round(r.width),frameHeight:Math.round(r.height)};if(y({x:n.frameX,y:n.frameY,width:n.frameWidth,height:n.frameHeight}),await e(n),i){let t=b.current.naturalWidth,e=b.current.naturalHeight,a=Math.max(n.frameX,i.x),r=Math.max(n.frameY,i.y),o=Math.min(n.frameX+n.frameWidth,i.x+i.width),s=Math.min(n.frameY+n.frameHeight,i.y+i.height),l=Math.max(0,o-a),c=Math.max(0,s-r),p=l*c,u=n.frameWidth*n.frameHeight,g=i.width*i.height,f=n.frameX+n.frameWidth/2,x=n.frameY+n.frameHeight/2,v=i.x+i.width/2,w=i.y+i.height/2,y=Math.abs(f-v)/t,j=Math.abs(x-w)/e,N=Math.sqrt(Math.pow(y,2)+Math.pow(j,2)),k=Math.round((p/(u+g-p)*.7+(1-N)*.3)*100),M="";M=k>=90?"Excellent framing! Your eye for composition is spot on.":k>=75?"Great job! Your frame is very close to the optimal composition.":k>=60?"Good effort. Try adjusting your frame slightly for better composition.":k>=40?"You're on the right track. Consider the rule of thirds and try again.":"Keep practicing! Try focusing on the main subject of the image.",m(M||"No feedback available"),d(k),console.log("Setting feedback:",M||"No feedback available"),setTimeout(()=>{h("results"),console.log("Step set to results with feedback:",M||"No feedback available")},100)}else{let t="Thanks for submitting your frame! Since there's no optimal frame for comparison, we can't provide a specific score.";m(t),d(75),console.log("Setting default feedback:",t),setTimeout(()=>{h("results"),console.log("Step set to results with default feedback:",t)},100)}}catch(e){console.error("Error submitting frame:",e);let t="We encountered an issue analyzing your frame. Please try again.";m(t),d(50),console.log("Setting error feedback:",t),setTimeout(()=>{h("results"),console.log("Step set to results after error with feedback:",t)},100)}finally{u(!1)}}},M=()=>{h("framing"),d(null),m(null)},C=(t,e,i,a)=>Math.min(i/t,a/e),D=(t,e,i,r)=>{let n=C(e.width,e.height,375,667);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:(0,a.jsx)("div",{className:"animate-pulse flex space-x-4",children:(0,a.jsx)("div",{className:"h-12 w-12 rounded-full bg-indigo-500/30"})})}),(0,a.jsx)("div",{className:"absolute inset-0 overflow-hidden",children:(0,a.jsx)("img",{src:t,alt:i,className:"absolute origin-top-left",style:{left:`${-e.x*n}px`,top:`${-e.y*n}px`,width:"auto",height:"auto",transform:`scale(${n})`,maxWidth:"none",maxHeight:"none"},onLoad:()=>N(r)})}),!x[r]&&(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-indigo-500 border-t-transparent"})})]})};return(0,r.useEffect)(()=>{console.log("Step changed:",s),console.log("Score:",l),console.log("Feedback:",c)},[s,l,c]),(0,a.jsxs)("div",{className:"w-full mx-auto p-6",children:["framing"===s?(0,a.jsx)("div",{className:"space-y-8",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-start gap-8",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsxs)("div",{className:"glass-dark rounded-xl p-8 shadow-lg relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute -bottom-20 -left-20 w-60 h-60 bg-indigo-600 rounded-full mix-blend-screen filter blur-[80px] opacity-10"}),(0,a.jsxs)("h1",{className:"text-3xl font-bold mb-2 text-indigo-100 flex items-center",children:[(0,a.jsx)("div",{className:"w-2 h-8 bg-gradient-to-b from-indigo-400 to-purple-400 mr-4 rounded-full"}),t.title]}),t.description&&(0,a.jsx)("p",{className:"text-indigo-300 mb-6 text-lg",children:t.description}),(0,a.jsx)("div",{className:"border border-indigo-800/30 rounded-lg overflow-hidden shadow-lg glass",children:(0,a.jsx)(tP,{src:t.imageUrl,style:{height:600,width:"100%"},aspectRatio:j,guides:!0,ref:b,viewMode:1,dragMode:"move",autoCropArea:.8,responsive:!0,restore:!1,highlight:!1,cropBoxMovable:!0,cropBoxResizable:!0,zoomOnWheel:!1})}),(0,a.jsx)("div",{className:"flex justify-center mt-8",children:(0,a.jsxs)("button",{onClick:k,disabled:p,className:"px-8 py-4 relative bg-gradient-to-r from-indigo-600 to-purple-600 text-white text-lg rounded-xl shadow-lg transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:transform-none group",children:[(0,a.jsx)("span",{className:"relative z-10",children:p?"Analyzing...":"Submit Frame"}),(0,a.jsx)("span",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-indigo-600 to-purple-600 opacity-0 group-hover:opacity-75 blur transition-opacity duration-300"})]})})]})}),(0,a.jsx)("div",{className:"md:w-1/3",children:(0,a.jsxs)("div",{className:"glass-dark rounded-xl p-8 shadow-lg h-full relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute -top-20 -right-20 w-60 h-60 bg-purple-500 rounded-full mix-blend-screen filter blur-[80px] opacity-10"}),(0,a.jsxs)("h2",{className:"text-2xl font-bold mb-6 text-indigo-100 flex items-center",children:[(0,a.jsx)("div",{className:"w-2 h-8 bg-gradient-to-b from-purple-400 to-indigo-400 mr-4 rounded-full"}),"Photography Tips"]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"p-4 glass rounded-lg",children:[(0,a.jsx)("h3",{className:"font-semibold text-indigo-200",children:"The Rule of Thirds"}),(0,a.jsx)("p",{className:"text-indigo-300 mt-1",children:"Place key elements along the gridlines or at their intersections."})]}),(0,a.jsxs)("div",{className:"p-4 glass rounded-lg",children:[(0,a.jsx)("h3",{className:"font-semibold text-indigo-200",children:"Leading Lines"}),(0,a.jsx)("p",{className:"text-indigo-300 mt-1",children:"Use natural lines to guide the viewer's eye to the main subject."})]}),(0,a.jsxs)("div",{className:"p-4 glass rounded-lg",children:[(0,a.jsx)("h3",{className:"font-semibold text-indigo-200",children:"Framing"}),(0,a.jsx)("p",{className:"text-indigo-300 mt-1",children:"Use elements in the scene to create a natural frame around your subject."})]}),(0,a.jsxs)("div",{className:"p-4 glass rounded-lg",children:[(0,a.jsx)("h3",{className:"font-semibold text-indigo-200",children:"Balance"}),(0,a.jsx)("p",{className:"text-indigo-300 mt-1",children:"Create visual harmony by distributing visual weight throughout the frame."})]})]})]})})]})}):"results"===s?(0,a.jsx)("div",{className:"space-y-8",style:{opacity:1,visibility:"visible"},children:(0,a.jsxs)("div",{className:"glass-dark rounded-xl p-8 shadow-lg mb-8 relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute -bottom-20 -left-20 w-80 h-80 bg-indigo-600 rounded-full mix-blend-screen filter blur-[80px] opacity-10"}),(0,a.jsx)("div",{className:"absolute -top-20 -right-20 w-80 h-80 bg-purple-600 rounded-full mix-blend-screen filter blur-[80px] opacity-10"}),(0,a.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,a.jsxs)("h2",{className:"text-3xl font-bold text-indigo-100 flex items-center",children:[(0,a.jsx)("div",{className:"w-2 h-8 bg-gradient-to-b from-indigo-400 to-purple-400 mr-4 rounded-full"}),"Results & Analysis"]}),(0,a.jsx)("button",{onClick:()=>f(!g),className:"px-4 py-2 glass text-indigo-100 rounded-lg hover:text-white transition-all duration-300 transform hover:scale-105",children:g?"Hide Original":"View Original"})]}),g&&(0,a.jsxs)("div",{className:"mb-8 border border-indigo-800/30 rounded-lg overflow-hidden",children:[(0,a.jsx)("img",{src:t.imageUrl,alt:"Original",className:"w-full h-auto",onLoad:()=>N("original")}),!x.original&&(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-indigo-500 border-t-transparent"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 relative",children:[(0,a.jsx)("div",{className:"absolute top-1/2 left-0 right-0 h-0.5 bg-gradient-to-r from-transparent via-indigo-500/30 to-transparent hidden md:block"}),(0,a.jsxs)("div",{className:"glass border border-indigo-800/30 rounded-xl overflow-hidden relative",children:[(0,a.jsx)("div",{className:"relative",style:{paddingBottom:o?`${375/667*100}%`:`${667/375*100}%`},children:D(t.imageUrl,w,"Your Frame","user-frame")}),(0,a.jsxs)("div",{className:"p-6 relative z-10",style:{position:"relative",zIndex:10},children:[(0,a.jsx)("h3",{className:"font-bold text-lg text-indigo-100",children:"Your Frame"}),null!==l&&(0,a.jsxs)("div",{className:"mt-4 relative z-10",style:{position:"relative",zIndex:10,opacity:1},children:[(0,a.jsx)("div",{className:"w-full bg-indigo-900/50 rounded-full h-3 mt-2 overflow-hidden",children:(0,a.jsx)("div",{className:`h-3 rounded-full ${l>=80?"bg-gradient-to-r from-emerald-400 to-emerald-500":l>=60?"bg-gradient-to-r from-amber-400 to-amber-500":"bg-gradient-to-r from-rose-400 to-rose-500"}`,style:{width:`${l}%`}})}),(0,a.jsxs)("div",{className:"flex justify-between mt-1",children:[(0,a.jsx)("span",{className:"text-sm text-indigo-300",children:"Score"}),(0,a.jsxs)("span",{className:"font-bold text-indigo-100",children:[l,"/100"]})]}),(0,a.jsx)("div",{className:"mt-4 p-4 bg-indigo-800 rounded-lg border-2 border-indigo-400 shadow-xl relative z-10",style:{backgroundColor:"#3730a3",borderColor:"#818cf8"},children:c?(0,a.jsx)("p",{className:"text-white font-semibold opacity-100 visible",style:{color:"white",textShadow:"0 0 2px rgba(0,0,0,0.5)"},children:c}):(0,a.jsx)("p",{className:"text-white font-semibold opacity-100 visible",style:{color:"white",textShadow:"0 0 2px rgba(0,0,0,0.5)"},children:"No feedback available"})})]})]})]}),i&&(0,a.jsxs)("div",{className:"glass border border-indigo-800/30 rounded-xl overflow-hidden relative",children:[(0,a.jsx)("div",{className:"relative",style:{paddingBottom:o?`${375/667*100}%`:`${667/375*100}%`},children:D(t.imageUrl,i,"AI Suggested Frame","ai-frame")}),(0,a.jsxs)("div",{className:"p-6 relative",children:[(0,a.jsx)("h3",{className:"font-bold text-lg text-indigo-100",children:"AI's Suggested Frame"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-indigo-300",children:"This is the optimal frame calculated by our AI based on photography principles."})]})]}),n&&(0,a.jsxs)("div",{className:"glass border border-indigo-800/30 rounded-xl overflow-hidden relative",children:[(0,a.jsx)("div",{className:"relative",style:{paddingBottom:o?`${375/667*100}%`:`${667/375*100}%`},children:D(t.imageUrl,{x:n.frameX,y:n.frameY,width:n.frameWidth,height:n.frameHeight},"Community Favorite","popular-frame")}),(0,a.jsxs)("div",{className:"p-6 relative",children:[(0,a.jsx)("h3",{className:"font-bold text-lg text-indigo-100",children:"Community's Favorite"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-indigo-300",children:"This frame has received the most likes from the community."}),(0,a.jsxs)("div",{className:"mt-4 flex items-center",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-rose-400 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})}),(0,a.jsxs)("span",{className:"font-bold text-indigo-100",children:[n.likes," likes"]})]})]})]})]}),(0,a.jsx)("div",{className:"flex justify-center mt-12",children:(0,a.jsx)("button",{onClick:M,className:"px-6 py-3 glass text-indigo-100 rounded-full hover:text-white transition-all duration-300 transform hover:scale-105 hover:shadow-[0_0_15px_rgba(99,102,241,0.5)]",children:"Try Again"})})]})},`results-${l}`):(0,a.jsx)("div",{className:"space-y-8",children:(0,a.jsxs)("div",{className:"glass-dark rounded-xl p-8 shadow-lg mb-8 relative overflow-hidden",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold text-indigo-100",children:"Something went wrong"}),(0,a.jsx)("p",{className:"text-indigo-300 mt-4",children:"Please try again."}),(0,a.jsx)("button",{onClick:M,className:"px-6 py-3 glass text-indigo-100 rounded-full hover:text-white transition-all duration-300 transform hover:scale-105 mt-8",children:"Try Again"})]})}),"framing"===s&&(0,a.jsxs)("div",{className:"mt-8 glass rounded-xl p-6 border border-indigo-800/30 shadow-lg",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold mb-4 text-indigo-100 flex items-center",children:[(0,a.jsx)("div",{className:"w-1 h-6 bg-gradient-to-b from-indigo-400 to-purple-400 mr-3 rounded-full"}),"Photography Framing Challenge"]}),(0,a.jsx)("p",{className:"text-indigo-300 mb-6",children:"Drag the frame to position it over the most visually appealing part of the image. Use the corner handles to resize if needed."}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"font-medium text-indigo-200 mb-3 flex items-center",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-indigo-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"What to look for:"]}),(0,a.jsxs)("ul",{className:"space-y-2 text-indigo-300",children:[(0,a.jsxs)("li",{className:"flex items-start",children:[(0,a.jsx)("svg",{className:"h-5 w-5 mr-2 text-indigo-400 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,a.jsx)("span",{children:"Find the main subject and ensure it's properly positioned"})]}),(0,a.jsxs)("li",{className:"flex items-start",children:[(0,a.jsx)("svg",{className:"h-5 w-5 mr-2 text-indigo-400 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,a.jsx)("span",{children:"Use the rule of thirds - align key elements with the grid lines"})]}),(0,a.jsxs)("li",{className:"flex items-start",children:[(0,a.jsx)("svg",{className:"h-5 w-5 mr-2 text-indigo-400 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,a.jsx)("span",{children:"Look for natural framing opportunities within the scene"})]}),(0,a.jsxs)("li",{className:"flex items-start",children:[(0,a.jsx)("svg",{className:"h-5 w-5 mr-2 text-indigo-400 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,a.jsx)("span",{children:"Consider the visual flow and balance of the composition"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"font-medium text-indigo-200 mb-3 flex items-center",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-indigo-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Common mistakes to avoid:"]}),(0,a.jsxs)("ul",{className:"space-y-2 text-indigo-300",children:[(0,a.jsxs)("li",{className:"flex items-start",children:[(0,a.jsx)("svg",{className:"h-5 w-5 text-rose-400 mr-2 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),(0,a.jsx)("span",{children:"Cutting off important elements of the scene"})]}),(0,a.jsxs)("li",{className:"flex items-start",children:[(0,a.jsx)("svg",{className:"h-5 w-5 text-rose-400 mr-2 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),(0,a.jsx)("span",{children:"Centering the subject when rule of thirds would work better"})]}),(0,a.jsxs)("li",{className:"flex items-start",children:[(0,a.jsx)("svg",{className:"h-5 w-5 text-rose-400 mr-2 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),(0,a.jsx)("span",{children:"Including too many distracting elements"})]}),(0,a.jsxs)("li",{className:"flex items-start",children:[(0,a.jsx)("svg",{className:"h-5 w-5 text-rose-400 mr-2 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),(0,a.jsx)("span",{children:"Not considering the visual weight and balance"})]})]})]})]})]})]})},tU=[{id:"1",imageUrl:"/images/tutorial1.jpeg",title:"Mountain Landscape",description:"Find the best frame to capture this beautiful mountain landscape."},{id:"2",imageUrl:"/images/tutorial2.jpeg",title:"Cityscape at Night",description:"Capture the vibrant city lights in the best possible frame."},{id:"3",imageUrl:"/images/tutorial3.jpeg",title:"Ocean Waves",description:"Frame the perfect shot of these powerful ocean waves."}],t_={1:{id:"pop1",originImageUrl:"/images/tutorial1.jpeg",frameX:300,frameY:150,frameWidth:375,frameHeight:667,userId:"user1",createdAt:new Date,likes:42},2:{id:"pop2",originImageUrl:"/images/tutorial2.jpeg",frameX:400,frameY:100,frameWidth:375,frameHeight:667,userId:"user1",createdAt:new Date,likes:28},3:{id:"pop3",originImageUrl:"/images/tutorial3.jpeg",frameX:350,frameY:200,frameWidth:375,frameHeight:667,userId:"user1",createdAt:new Date,likes:35}},t$={1:{x:250,y:200,width:375,height:667},2:{x:420,y:80,width:375,height:667},3:{x:300,y:150,width:375,height:667}},tq={1:{x:200,y:250,width:667,height:375},2:{x:100,y:300,width:667,height:375},3:{x:150,y:200,width:667,height:375}};function tF(){let[t,e]=(0,r.useState)(0),[i,n]=(0,r.useState)(!0),[o,s]=(0,r.useState)(!1),[h,l]=(0,r.useState)(0),d=tU[t],c=o?tq[d.id]:t$[d.id],m=t_[d.id],p=async t=>(console.log("Submitting frame:",t),await new Promise(t=>setTimeout(t,800)),Promise.resolve());return(0,a.jsxs)("div",{className:"min-h-screen py-12 relative",children:[(0,a.jsx)("div",{className:"absolute left-1/2 transform -translate-x-1/2 w-1 h-full bg-gradient-to-b from-transparent via-indigo-400 to-transparent opacity-30 hidden md:block"}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative",children:[(0,a.jsxs)("div",{className:"text-center mb-10",children:[(0,a.jsxs)("div",{className:"inline-block relative mb-6",children:[(0,a.jsx)("span",{className:"inline-block w-20 h-20 rounded-full bg-indigo-500 opacity-20 absolute blur-2xl -z-10"}),(0,a.jsx)("h1",{className:"text-5xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-indigo-400 to-purple-400",children:"Master Your Photography"})]}),(0,a.jsx)("p",{className:"mt-4 max-w-3xl mx-auto text-xl text-indigo-200",children:"Learn how to frame the perfect photo by practicing with our interactive tool."})]}),(0,a.jsx)("div",{className:"flex justify-center mb-8",children:(0,a.jsx)("div",{className:"flex items-center space-x-3",children:tU.map((e,i)=>(0,a.jsxs)("div",{className:"relative flex flex-col items-center",children:[(0,a.jsx)("div",{className:`w-4 h-4 rounded-full ${i<t?"bg-indigo-400":i===t?"bg-indigo-500 animate-pulse":"bg-indigo-800"} transition-colors duration-500`}),i<tU.length-1&&(0,a.jsx)("div",{className:"w-12 h-0.5 bg-indigo-700 absolute left-4 top-2"})]},i))})}),(0,a.jsx)("div",{className:"flex justify-center mb-6 space-x-4",children:(0,a.jsxs)("button",{onClick:()=>{s(!o),l(t=>t+1)},className:"glass px-6 py-3 rounded-full text-indigo-200 hover:text-white transition-all duration-300 hover:shadow-[0_0_15px_rgba(99,102,241,0.5)] focus:outline-none flex items-center space-x-2 transform hover:scale-105",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5v-4m0 0h-4m4 0l-5-5"})}),(0,a.jsx)("span",{children:o?"Switch to Vertical":"Switch to Horizontal"})]})}),(0,a.jsx)("div",{className:"glass-dark rounded-3xl overflow-hidden border border-indigo-900/50 shadow-[0_0_30px_rgba(79,70,229,0.15)]",children:i?(0,a.jsx)("div",{className:"flex items-center justify-center h-[800px]",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"inline-block animate-spin rounded-full h-16 w-16 border-4 border-indigo-500 border-t-transparent"}),(0,a.jsx)("p",{className:"mt-4 text-xl text-indigo-300",children:"Preparing your tutorial..."})]})}):(0,a.jsx)(tI,{tutorialImage:d,onSubmit:p,optimalFrame:c,popularFrame:m,isHorizontal:o},`${t}-${h}-${o?"h":"v"}`)}),(0,a.jsxs)("div",{className:"mt-10 text-center",children:[(0,a.jsxs)("p",{className:"text-xl text-indigo-300 mb-6",children:["Tutorial Progress: ",(0,a.jsx)("span",{className:"font-semibold text-indigo-100",children:t+1})," of ",(0,a.jsx)("span",{className:"font-semibold",children:tU.length})]}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsxs)("button",{onClick:()=>{l(t=>t+1),e(t=>(t+1)%tU.length)},className:"relative px-8 py-4 rounded-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white text-lg shadow-lg transition-all duration-300 transform hover:scale-105 hover:shadow-[0_0_20px_rgba(99,102,241,0.6)] focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:ring-offset-2 focus:ring-offset-indigo-900",children:[(0,a.jsx)("span",{className:"relative z-10",children:"Next Tutorial Image"}),(0,a.jsx)("span",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-indigo-600 to-purple-600 opacity-75 blur-sm"})]})})]})]})]})}},6775:(t,e,i)=>{"use strict";i.r(e),i.d(e,{GlobalError:()=>o.a,__next_app__:()=>c,pages:()=>d,routeModule:()=>m,tree:()=>l});var a=i(260),r=i(8203),n=i(5155),o=i.n(n),s=i(7292),h={};for(let t in s)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(t)&&(h[t]=()=>s[t]);i.d(e,h);let l={children:["",{children:["tutorial",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(i.bind(i,8814)),"/Users/allen/Desktop/Figart-AI/src/app/tutorial/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(i.bind(i,1354)),"/Users/allen/Desktop/Figart-AI/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(i.t.bind(i,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(i.t.bind(i,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(i.t.bind(i,1485,23)),"next/dist/client/components/unauthorized-error"]}]}.children,d=["/Users/allen/Desktop/Figart-AI/src/app/tutorial/page.tsx"],c={require:i,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/tutorial/page",pathname:"/tutorial",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},6931:(t,e,i)=>{Promise.resolve().then(i.bind(i,8814))},8766:()=>{},8814:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>a});let a=(0,i(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/allen/Desktop/Figart-AI/src/app/tutorial/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/allen/Desktop/Figart-AI/src/app/tutorial/page.tsx","default")},9121:t=>{"use strict";t.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:t=>{"use strict";t.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var e=require("../../webpack-runtime.js");e.C(t);var i=t=>e(e.s=t),a=e.X(0,[685,738],()=>i(6775));module.exports=a})();