{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/nathanchen/Desktop/Projects/Figart-AI/Figart-AI/src/utils/auth.ts"],"sourcesContent":["import Cookies from 'js-cookie';\n\nconst API_URL = 'http://localhost:8000';\nconst TOKEN_COOKIE_NAME = 'auth_token';\n\nexport const setAuthToken = (token: string) => {\n  Cookies.set(TOKEN_COOKIE_NAME, token, { expires: 7 }); // Token expires in 7 days\n};\n\nexport const getAuthToken = () => {\n  return Cookies.get(TOKEN_COOKIE_NAME);\n};\n\nexport const removeAuthToken = () => {\n  Cookies.remove(TOKEN_COOKIE_NAME);\n};\n\nexport const login = async (username: string, password: string) => {\n  const response = await fetch(`${API_URL}/users/login/`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'Accept': 'application/json',\n    },\n    credentials: 'include',\n    mode: 'cors',\n    body: JSON.stringify({ username, password }),\n  });\n\n  const data = await response.json().catch(() => null);\n\n  if (!response.ok) {\n    if (response.status === 401) {\n      throw new Error('Invalid username or password');\n    }\n    throw new Error(data?.detail || 'Login failed');\n  }\n\n  if (!data?.token) {\n    throw new Error('No token received');\n  }\n\n  setAuthToken(data.token);\n  return data;\n};\n\nexport const signup = async (username: string, password: string) => {\n  const response = await fetch(`${API_URL}/users/register/`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'Accept': 'application/json',\n    },\n    credentials: 'include',\n    mode: 'cors',\n    body: JSON.stringify({ username, password }),\n  });\n\n  const data = await response.json().catch(() => null);\n\n  if (!response.ok) {\n    if (response.status === 409) {\n      throw new Error('Username already exists');\n    }\n    throw new Error(data?.detail || 'Registration failed');\n  }\n\n  if (!data?.token) {\n    throw new Error('No token received');\n  }\n\n  setAuthToken(data.token);\n  return data;\n};\n\n// Utility function for making authenticated API requests\nexport const apiRequest = async (endpoint: string, options: RequestInit = {}) => {\n  const token = getAuthToken();\n  \n  const headers = {\n    'Content-Type': 'application/json',\n    'Accept': 'application/json',\n    ...(token && { Authorization: `Bearer ${token}` }),\n    ...options.headers,\n  };\n\n  const response = await fetch(`${API_URL}${endpoint}`, {\n    ...options,\n    headers,\n    credentials: 'include',\n    mode: 'cors',\n  });\n\n  const data = await response.json().catch(() => null);\n\n  if (!response.ok) {\n    throw new Error(data?.detail || 'API request failed');\n  }\n\n  return data;\n}; "],"names":[],"mappings":";;;;;;;;AAAA;;AAEA,MAAM,UAAU;AAChB,MAAM,oBAAoB;AAEnB,MAAM,eAAe,CAAC;IAC3B,wJAAA,CAAA,UAAO,CAAC,GAAG,CAAC,mBAAmB,OAAO;QAAE,SAAS;IAAE,IAAI,0BAA0B;AACnF;AAEO,MAAM,eAAe;IAC1B,OAAO,wJAAA,CAAA,UAAO,CAAC,GAAG,CAAC;AACrB;AAEO,MAAM,kBAAkB;IAC7B,wJAAA,CAAA,UAAO,CAAC,MAAM,CAAC;AACjB;AAEO,MAAM,QAAQ,OAAO,UAAkB;IAC5C,MAAM,WAAW,MAAM,MAAM,GAAG,QAAQ,aAAa,CAAC,EAAE;QACtD,QAAQ;QACR,SAAS;YACP,gBAAgB;YAChB,UAAU;QACZ;QACA,aAAa;QACb,MAAM;QACN,MAAM,KAAK,SAAS,CAAC;YAAE;YAAU;QAAS;IAC5C;IAEA,MAAM,OAAO,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM;IAE/C,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,IAAI,SAAS,MAAM,KAAK,KAAK;YAC3B,MAAM,IAAI,MAAM;QAClB;QACA,MAAM,IAAI,MAAM,MAAM,UAAU;IAClC;IAEA,IAAI,CAAC,MAAM,OAAO;QAChB,MAAM,IAAI,MAAM;IAClB;IAEA,aAAa,KAAK,KAAK;IACvB,OAAO;AACT;AAEO,MAAM,SAAS,OAAO,UAAkB;IAC7C,MAAM,WAAW,MAAM,MAAM,GAAG,QAAQ,gBAAgB,CAAC,EAAE;QACzD,QAAQ;QACR,SAAS;YACP,gBAAgB;YAChB,UAAU;QACZ;QACA,aAAa;QACb,MAAM;QACN,MAAM,KAAK,SAAS,CAAC;YAAE;YAAU;QAAS;IAC5C;IAEA,MAAM,OAAO,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM;IAE/C,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,IAAI,SAAS,MAAM,KAAK,KAAK;YAC3B,MAAM,IAAI,MAAM;QAClB;QACA,MAAM,IAAI,MAAM,MAAM,UAAU;IAClC;IAEA,IAAI,CAAC,MAAM,OAAO;QAChB,MAAM,IAAI,MAAM;IAClB;IAEA,aAAa,KAAK,KAAK;IACvB,OAAO;AACT;AAGO,MAAM,aAAa,OAAO,UAAkB,UAAuB,CAAC,CAAC;IAC1E,MAAM,QAAQ;IAEd,MAAM,UAAU;QACd,gBAAgB;QAChB,UAAU;QACV,GAAI,SAAS;YAAE,eAAe,CAAC,OAAO,EAAE,OAAO;QAAC,CAAC;QACjD,GAAG,QAAQ,OAAO;IACpB;IAEA,MAAM,WAAW,MAAM,MAAM,GAAG,UAAU,UAAU,EAAE;QACpD,GAAG,OAAO;QACV;QACA,aAAa;QACb,MAAM;IACR;IAEA,MAAM,OAAO,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM;IAE/C,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,IAAI,MAAM,MAAM,UAAU;IAClC;IAEA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 109, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 115, "column": 0}, "map": {"version":3,"sources":["file:///Users/nathanchen/Desktop/Projects/Figart-AI/Figart-AI/src/contexts/AuthContext.tsx"],"sourcesContent":["'use client';\n\nimport { createContext, useContext, useState, useEffect, ReactNode } from 'react';\nimport { getAuthToken, removeAuthToken } from '@/utils/auth';\n\ninterface AuthContextType {\n  username: string | null;\n  setUsername: (username: string | null) => void;\n  logout: () => void;\n}\n\nconst AuthContext = createContext<AuthContextType | null>(null);\n\nexport function AuthProvider({ children }: { children: ReactNode }) {\n  const [username, setUsername] = useState<string | null>(null);\n\n  useEffect(() => {\n    // Check if there's a token and try to get the username\n    const token = getAuthToken();\n    if (token) {\n      // You might want to validate the token and get user info from your API here\n      const storedUsername = localStorage.getItem('username');\n      if (storedUsername) {\n        setUsername(storedUsername);\n      }\n    }\n  }, []);\n\n  const logout = () => {\n    removeAuthToken();\n    localStorage.removeItem('username');\n    setUsername(null);\n  };\n\n  return (\n    <AuthContext.Provider value={{ username, setUsername, logout }}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext);\n  if (!context) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n} "],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAWA,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,gBAAa,AAAD,EAA0B;AAEnD,SAAS,aAAa,EAAE,QAAQ,EAA2B;;IAChE,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAExD,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR,uDAAuD;YACvD,MAAM,QAAQ,CAAA,GAAA,uHAAA,CAAA,eAAY,AAAD;YACzB,IAAI,OAAO;gBACT,4EAA4E;gBAC5E,MAAM,iBAAiB,aAAa,OAAO,CAAC;gBAC5C,IAAI,gBAAgB;oBAClB,YAAY;gBACd;YACF;QACF;iCAAG,EAAE;IAEL,MAAM,SAAS;QACb,CAAA,GAAA,uHAAA,CAAA,kBAAe,AAAD;QACd,aAAa,UAAU,CAAC;QACxB,YAAY;IACd;IAEA,qBACE,6LAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAU;YAAa;QAAO;kBAC1D;;;;;;AAGP;GA1BgB;KAAA;AA4BT,SAAS;;IACd,MAAM,UAAU,CAAA,GAAA,6JAAA,CAAA,aAAU,AAAD,EAAE;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANgB","debugId":null}},
    {"offset": {"line": 178, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 184, "column": 0}, "map": {"version":3,"sources":["file:///Users/nathanchen/Desktop/Projects/Figart-AI/Figart-AI/src/components/Navbar.tsx"],"sourcesContent":["'use client';\n\nimport Link from 'next/link';\nimport Image from 'next/image';\nimport { useState, useEffect } from 'react';\nimport { useAuth } from '@/contexts/AuthContext';\n\nexport default function Navbar() {\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n  const [scrolled, setScrolled] = useState(false);\n  const { username, logout } = useAuth();\n\n  // Add scroll effect\n  useEffect(() => {\n    const handleScroll = () => {\n      const isScrolled = window.scrollY > 10;\n      if (isScrolled !== scrolled) {\n        setScrolled(isScrolled);\n      }\n    };\n\n    document.addEventListener(\"scroll\", handleScroll);\n    return () => {\n      document.removeEventListener(\"scroll\", handleScroll);\n    };\n  }, [scrolled]);\n\n  const handleLogout = () => {\n    logout();\n    setIsMenuOpen(false);\n  };\n\n  const AuthSection = () => {\n    if (username) {\n      return (\n        <div className=\"flex items-center space-x-4\">\n          <span className=\"text-white\">Hello, {username}</span>\n          <button\n            onClick={handleLogout}\n            className=\"text-white hover:text-indigo-300 transition-all duration-300\"\n          >\n            Logout\n          </button>\n        </div>\n      );\n    }\n\n    return (\n      <Link\n        href=\"/login\"\n        className=\"text-white bg-indigo-600 hover:bg-indigo-700 px-4 py-1.5 rounded-lg transition-all duration-300 transform hover:scale-105\"\n      >\n        Login\n      </Link>\n    );\n  };\n\n  return (\n    <nav className={`fixed w-full top-0 z-20 transition-all duration-300 ${\n      scrolled ? 'bg-black/40 backdrop-blur-md' : 'bg-transparent'\n    }`}>\n      <div className=\"container mx-auto px-4 py-4 flex justify-between items-center\">\n        <Link href=\"/\" className=\"flex items-center space-x-2 relative z-10\">\n          <span className=\"font-bold text-xl text-white drop-shadow-md\">FigArt AI</span>\n        </Link>\n\n        {/* Desktop menu */}\n        <div className=\"hidden md:flex items-center space-x-8\">\n          <Link href=\"/\" className=\"text-white hover:text-indigo-300 transition-all duration-300 transform hover:scale-105\">\n            Home\n          </Link>\n          <Link href=\"/tutorial\" className=\"text-white hover:text-indigo-300 transition-all duration-300 transform hover:scale-105\">\n            Tutorials\n          </Link>\n          <Link href=\"/ai\" className=\"text-white hover:text-indigo-300 transition-all duration-300 transform hover:scale-105\">\n            AI Analysis\n          </Link>\n          <Link href=\"/community\" className=\"text-white hover:text-indigo-300 transition-all duration-300 transform hover:scale-105\">\n            Community\n          </Link>\n          <AuthSection />\n        </div>\n\n        {/* Mobile menu button */}\n        <button \n          className=\"md:hidden focus:outline-none text-white\"\n          onClick={() => setIsMenuOpen(!isMenuOpen)}\n          aria-label={isMenuOpen ? \"Close menu\" : \"Open menu\"}\n        >\n          <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n            {isMenuOpen ? (\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n            ) : (\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 12h16m-7 6h7\" />\n            )}\n          </svg>\n        </button>\n      </div>\n\n      {/* Mobile menu */}\n      {isMenuOpen && (\n        <div className=\"md:hidden bg-black/80 backdrop-blur-lg w-full py-6 absolute top-full left-0 right-0 border-t border-white/10 transition-all duration-300\">\n          <div className=\"flex flex-col space-y-4 px-6\">\n            <Link \n              href=\"/\" \n              className=\"text-white hover:text-indigo-300 transition-colors py-2 text-center\"\n              onClick={() => setIsMenuOpen(false)}\n            >\n              Home\n            </Link>\n            <Link \n              href=\"/tutorial\" \n              className=\"text-white hover:text-indigo-300 transition-colors py-2 text-center\"\n              onClick={() => setIsMenuOpen(false)}\n            >\n              Tutorials\n            </Link>\n            <Link \n              href=\"/ai\" \n              className=\"text-white hover:text-indigo-300 transition-colors py-2 text-center\"\n              onClick={() => setIsMenuOpen(false)}\n            >\n              AI Analysis\n            </Link>\n            <Link \n              href=\"/community\" \n              className=\"text-white hover:text-indigo-300 transition-colors py-2 text-center\"\n              onClick={() => setIsMenuOpen(false)}\n            >\n              Community\n            </Link>\n            <div className=\"flex justify-center\">\n              <AuthSection />\n            </div>\n          </div>\n        </div>\n      )}\n    </nav>\n  );\n} "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 472, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}